!function(u){function e(e){for(var t,r,o=e[0],n=e[1],i=e[2],a=0,s=[];a<o.length;a++)r=o[a],c[r]&&s.push(c[r][0]),c[r]=0;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(u[t]=n[t]);for(h&&h(e);s.length;)s.shift()();return d.push.apply(d,i||[]),l()}function l(){for(var e,t=0;t<d.length;t++){for(var r=d[t],o=!0,n=1;n<r.length;n++){var i=r[n];0!==c[i]&&(o=!1)}o&&(d.splice(t--,1),e=p(p.s=r[0]))}return e}var r={},c={4:0},d=[];function p(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,p),t.l=!0,t.exports}p.e=function(i){var e=[],r=c[i];if(0!==r)if(r)e.push(r[2]);else{var t=new Promise(function(e,t){r=c[i]=[e,t]});e.push(r[2]=t);var o,n=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.timeout=120,p.nc&&a.setAttribute("nonce",p.nc),a.src=p.p+""+i+".58e348d2e7987d48d73f.chunk.js",o=function(e){a.onerror=a.onload=null,clearTimeout(s);var t=c[i];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,n=new Error("Loading chunk "+i+" failed.\n("+r+": "+o+")");n.type=r,n.request=o,t[1](n)}c[i]=void 0}};var s=setTimeout(function(){o({type:"timeout",target:a})},12e4);a.onerror=a.onload=o,n.appendChild(a)}return Promise.all(e)},p.m=u,p.c=r,p.d=function(e,t,r){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(t,e){if(1&e&&(t=p(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(p.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)p.d(r,o,function(e){return t[e]}.bind(null,o));return r},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="/",p.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],o=t.push.bind(t);t.push=e,t=t.slice();for(var n=0;n<t.length;n++)e(t[n]);var h=o;d.push([182,10]),l()}({115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.doc=e,this.isAppReady=!1}return e.prototype.trigger=function(){this.isAppReady||(this.doc.dispatchEvent(this.createEvent("appready",!0,!1)),this.isAppReady=!0)},e.prototype.createEvent=function(t,r,o){var n;try{n=new CustomEvent(t,{bubbles:r,cancelable:o})}catch(e){(n=this.doc.createEvent("CustomEvent")).initCustomEvent(t,r,o,{})}return n},e}();t.AppReadyEventService=o},116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(40),o=function(){function e(){this.scripts=[]}return e.prototype.load=function(o){var n=this;return new i.Observable(function(t){var e=n.scripts.find(function(e){return e.name===o.name});if(e&&e.loaded)t.next(e),t.complete();else{n.scripts=n.scripts.concat([o]);var r=document.createElement("script");r.type="text/javascript",r.src=o.src,o.id&&(r.id=o.id),o.async?r.async=!0:o.defer&&(r.defer=!0),r.onload=function(){o.loaded=!0,t.next(o),t.complete()},r.onerror=function(e){t.error("Couldn't load script "+o.src+" - Error is: "+e)},document.getElementsByTagName("head")[0].appendChild(r)}})},e}();t.ScriptLoaderService=o},121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(1);var o=function(){function e(){this.prodBrandUrl="esure.com"}return e.prototype.transform=function(e,t,r){var o=this.prodBrandUrl===window["esure-env"].BRAND_URL||r?"www.":"",n=r?this.prodBrandUrl:window["esure-env"].BRAND_URL;return t&&(o=t+"."),(n&&n.startsWith("localhost")&&!r?"http":"https")+"://"+o+n+e},e}();t.BrandUrlPipe=o},122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19),r(22);var o=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(){return this.doLoggedInCheck()},e.prototype.canActivateChild=function(){return this.doLoggedInCheck()},e.prototype.canLoad=function(){return this.doLoggedInCheck()},e.prototype.doLoggedInCheck=function(){return!!this.authService.isUserLoggedIn()||(this.router.navigateByUrl("/auth"),!1)},e}();t.LoggedInGuard=o},123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19),r(22);var o=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(){return this.doLoggedInCheck()},e.prototype.canActivateChild=function(){return this.doLoggedInCheck()},e.prototype.canLoad=function(){return this.doLoggedInCheck()},e.prototype.doLoggedInCheck=function(){return!this.authService.isUserLoggedIn()||(this.router.navigateByUrl("/portal"),!1)},e}();t.LoggedInAlreadyGuard=o},126:function(e,t,o){var n={"./routes/auth/auth.module.ngfactory":[218,0,1,2,6],"./routes/error/error.module.ngfactory":[219,0,7],"./routes/info/info.module.ngfactory":[220,0,8],"./routes/portal/portal.module.ngfactory":[221,0,1,11,2,9]};function r(t){var r=n[t];return r?Promise.all(r.slice(1).map(o.e)).then(function(){var e=r[0];return o.t(e,7)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(n)},r.id=126,e.exports=r},129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.init=function(){},e}();t.AppInitService=o},130:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=(r(1),r(19)),s=r(32),n=(r(115),r(116),r(159)),i=function(i){function e(e,t,r,o){var n=i.call(this)||this;return n.scriptLoaderService=e,n.appReadyEventService=t,n.window=r,n.router=o,n.router.events.pipe(s.filter(function(e){return e instanceof a.NavigationEnd}),s.first()).subscribe(function(){setTimeout(function(){return n.appReadyEventService.trigger()},0)}),n.router.events.subscribe(function(e){e instanceof a.NavigationStart&&n.showLoader(),(e instanceof a.NavigationEnd||e instanceof a.NavigationCancel||e instanceof a.NavigationError)&&n.hideLoader()}),n}return o.__extends(e,i),e.prototype.ngOnInit=function(){this.addScriptsToHeadElement()},e.prototype.addScriptsToHeadElement=function(){this.addScript({src:this.window["esure-env"].TAG_MANAGER_URL,name:"TAG_MANAGER",loaded:!1,async:!0}),this.addScript({src:this.window["esure-env"].OPTIMIZELY_URL,name:"OPTIMIZELY",loaded:!1,async:!0}),this.addScript({src:this.window["esure-env"].LIVECHAT_URL,name:"LIVECHAT",loaded:!1,id:"getsyn",async:!0}),this.addScript({src:this.window["esure-env"].IOVATION_URL,name:"IOVATION",loaded:!1,async:!0}),this.addScript({src:this.window["esure-env"].RECAPTCHA_SITEKEY?"//www.google.com/recaptcha/api.js":"",name:"GOOGLE_RECAPTCHA",loaded:!1,async:!0})},e.prototype.addScript=function(e){""!==e.src&&this.scriptLoaderService.load(e).subscribe(function(e){},function(e){console.error("Error loading script:",e)})},e}(n.LoadingHandlerComponent);t.AppComponent=i},132:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19),r(156);var s=r(46),u=(r(22),r(47)),o=(r(57),function(){function e(e,t,r,o){this.router=e,this.idle=t,this.authService=r,this.customerDataService=o,this.showTimeoutWarning=!1,this.buttonsClicked=!1,this.initSessionTimeoutIdle()}return e.prototype.continueSession=function(){var t=this;this.buttonsClicked=!0,this.idle.stop(),this.authService.refreshToken().subscribe(function(){t.showTimeoutWarning=!1},function(e){return 403===e.statusCode?t.router.navigateByUrl("/error/timeout"):404===e.statusCode?t.router.navigateByUrl("/error/404"):(t.customerDataService.setLastError(e,"error with authService.refreshToken"),t.router.navigateByUrl("/error/500"))})},e.prototype.endSession=function(){this.buttonsClicked=!0,this.idle.stop(),this.showTimeoutWarning=!1,this.authService.logout(!0)},e.prototype.initSessionTimeoutIdle=function(){var t=this,e=60*u.JWT_COOKIE_EXPIRY_MINUTES-u.SESSION_TIMEOUT_WARNING_SECONDS,r=u.SESSION_TIMEOUT_WARNING_SECONDS,o=this.authService.getTokenExpirationDate();if(null!==o){var n=s.utc(o),i=s.utc(),a=n.diff(i,"seconds");0<a&&(e=a>u.SESSION_TIMEOUT_WARNING_SECONDS?a-u.SESSION_TIMEOUT_WARNING_SECONDS:0,r=a<u.SESSION_TIMEOUT_WARNING_SECONDS?a:u.SESSION_TIMEOUT_WARNING_SECONDS)}(e-=2)<=0&&(e=1)<r&&(r-=1),this.idle.setIdle(e),this.idle.setTimeout(r),this.idle.onIdleEnd.subscribe(function(){}),this.idle.onTimeout.subscribe(function(){t.showTimeoutWarning=!1,t.router.navigateByUrl("/error/timeout")}),this.idle.onIdleStart.subscribe(function(){t.authService.isValidToken()?t.authService.isUserLoggedIn()?(t.buttonsClicked=!1,t.showTimeoutWarning=!0):t.continueSession():(t.idle.stop(),t.router.url.startsWith("/portal")&&t.router.navigateByUrl("/error/timeout"))}),this.idle.onTimeoutWarning.subscribe(function(e){t.countSeconds=e}),this.idle.onInterrupt.subscribe(function(){return console.debug("IDLE: Idle interrupted!")}),this.idle.watch()},e}());t.TimeoutComponent=o},154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};t.LoadingBoxComponent=o},155:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.number=e.number,this.type=e.type,this.isMotor="motor"===this.type,this.isHome="home"===this.type,this.startDate=e.startDate||e.coverStartDate,this.renewalDate=e.renewalDate,this.endDate=e.endDate,this.ncdProof=e.ncdProof,this.installmentPlan=e.installmentPlan,this.holder=e.holder,this.lapsed=e.lapsed,this.addOns=e.addOns,this.cost=e.cost,this.mtaAvailable=e.mtaAvailable};t.PolicyDetails=o},159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(170),n=function(){function e(){this.navEndedClass="navEnded"}return e.prototype.showLoader=function(){var e=this,t=this.getLoadingIndicator();if(t){var r=t.classList;t.classList.remove(this.navEndedClass),setTimeout(function(){r.contains(e.navEndedClass)||(t.style.display="block")},250)}},e.prototype.hideLoader=function(){var e=this.getLoadingIndicator();e&&(e.classList.add(this.navEndedClass),e.style.display="none")},e.prototype.scrollToGlobalFormError=function(){this.canUseScrollIntoView()?this.scrollIntoView("mta"):document.getElementById("scroll-container").scrollTop=125},e.prototype.scrollToGlobalFormErrorUnauth=function(){this.scrollIntoView("auth-create-acc")},e.prototype.scrollToHeader=function(){this.scrollIntoView("header")},e.prototype.backToTop=function(){var e=this;setTimeout(function(){e.canUseScrollIntoView()?e.scrollIntoView("scroll-anchor"):document.getElementById("scroll-container").scrollTop=0},250)},e.prototype.getLoadingIndicator=function(){return document.getElementById("loading-indicator")},e.prototype.scrollIntoView=function(e){var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},e.prototype.canUseScrollIntoView=function(){return!("Internet Explorer"===o.name&&"11.0"===o.version)},e}();t.LoadingHandlerComponent=n},160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),o=(r(90),r(172)),i=r(174),a=function(){function e(e){this.httpService=e}return e.prototype.getPolicies=function(){return this.httpService.get("/policies")},e.prototype.getPolicy=function(e,t,r){var o=this;return this.httpService.get("/policies/"+r+"/"+e+"/"+t).pipe(n.map(function(e){return o.createProductPolicyDetails(r,e)}))},e.prototype.getDocuments=function(e){return this.httpService.get("/documents/"+e)},e.prototype.getDocument=function(e,t){return this.httpService.getBinary("/document/"+e+"/"+t)},e.prototype.createProductPolicyDetails=function(e,t){return"motor"===e?new o.MotorPolicyDetails(t):new i.HomePolicyDetails(t)},e}();t.PolicyDataService=a},162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19);var o=function(){function e(e){this.router=e}return e.prototype.canActivate=function(e){return-1===e.data.disallowedBrands.indexOf("ES")||(this.router.navigateByUrl("/error/404"),!1)},e}();t.DisallowedBrandsGuard=o},163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(22);var o=function(){function e(e){this.authService=e}return e.prototype.canActivate=function(){return this.authService.logout(!1),!0},e}();t.LogoutUserGuard=o},165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19),r(22);var o=r(47),n=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(){return!!this.authService.tokenHasKey(o.JWT_CHALLENGE_KEY_PROPERTY_NAME)||(this.router.navigateByUrl("/auth"),!1)},e}();t.SetPasswordGuard=n},166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19),r(22);var o=r(47),n=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(){return!!this.authService.tokenHasKey(o.JWT_EMAIL_KEY_PROPERTY_NAME)||(this.router.navigateByUrl("/auth/trouble/password"),!1)},e}();t.ResetPasswordGuard=n},167:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19),r(22);var o=r(47),n=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(){return!!this.authService.tokenHasKey(o.JWT_EMAIL_KEY_PROPERTY_NAME)||(this.router.navigateByUrl("/auth/register"),!1)},e}();t.RegisterConfirmationGuard=n},168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19);var o=r(40),n=r(32),i=(r(22),r(57),function(){function e(e,t,r){this.authService=e,this.router=t,this.customerDataService=r}return e.prototype.resolve=function(){var t=this;return this.authService.isValidToken()?o.of({data:"Token already existed"}):this.authService.getToken().pipe(n.first(),n.catchError(function(e){return 404===e.statusCode||403===e.statusCode?t.router.navigateByUrl("/error/404"):(t.customerDataService.setLastError(e,"error with authService.getToken"),t.router.navigateByUrl("/error/500")),o.of(e)}))},e}());t.TokenResolver=i},169:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19);var o=r(40),n=r(32),i=(r(22),function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.resolve=function(e){var t=this,r=e.params.token;return this.authService.getUsernameFromToken(r).pipe(n.first(),n.catchError(function(e){return t.router.navigateByUrl("/auth/trouble/password/error"),o.of(e)}))},e}());t.DecodeUsernameResolver=i},172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(155),a=r(211),s=r(173),i=function(i){function e(e){var t=i.call(this,e)||this;t.drivers=[],t.mainDriver=new a.Driver(e.mainDriver);for(var r=e.drivers.length,o=0;o<r;o+=1){var n=new a.Driver(e.drivers[o]);t.drivers.push(n)}return t.europeanCover=e.europeanCover,t.vehicle=new s.Vehicle(e.coveredVehicle),t}return o.__extends(e,i),e}(n.PolicyDetails);t.MotorPolicyDetails=i},173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.make=e.vehicleMake,this.model=e.vehicleModel,this.reg=e.vehicleRegNo,this.mileage=e.mileageDescription,this.windscreenRepairExcess=e.windscreenRepairExcess,this.windscreenReplacementExcess=e.windscreenReplacementExcess,this.dateOfRegistration=e.dateOfRegistration,this.carValue=e.carValue,this.fuelTypeCode=e.fuelTypeCode,this.fuelTypeDescription=e.fuelTypeDescription,this.vehicleEngineSize=e.vehicleEngineSize};t.Vehicle=o},174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(155),i=r(175),a=function(r){function e(e){var t=r.call(this,e)||this;return t.accidentalDamageBuildings=e.accidentalDamageBuildings,t.accidentalDamageContents=e.accidentalDamageContents,t.buildingSumInsured=e.buildingSumInsured,t.children=e.children,t.contentsSumInsured=e.contentsSumInsured,t.highValueItems=e.highValueItems,t.jointPolicyHolder=e.jointPolicyHolder,t.subsidence=e.subsidence,t.waterDamage=e.waterDamage,t.householdGoods=e.householdGoods,t.highValueItemsSum=e.highValueItemsSum,t.excessBuildingsVoluntary=e.excessBuildingsVoluntary,t.excessBuildingsCompulsory=e.excessBuildingsCompulsory,t.excessContentsVoluntary=e.excessContentsVoluntary,t.excessContentsCompulsory=e.excessContentsCompulsory,t.excessWater=e.excessWater,t.excessSubsidence=e.excessSubsidence,t.riskAddress=new i.Address(e.address),t.personalPossessions=e.personalPossessions,t.coverType=e.coverType,t.ncdProtected=e.ncdProtected,t.ncdYears=e.ncdYears,t}return o.__extends(e,r),e}(n.PolicyDetails);t.HomePolicyDetails=a},175:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.number=e.number||e.houseNumber,this.houseName=e.houseName,this.street=e.street,this.city=e.city||e.location,this.town=e.postalTown,this.county=e.county,this.postcode=e.postcode};t.Address=o},182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(183),i=r(51);function a(){return i.platformBrowser().bootstrapModuleFactory(n.AppModuleNgFactory).catch(function(e){return console.error(e)})}switch(o.enableProdMode(),t.main=a,document.readyState){case"loading":document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1);a()},!1);break;case"interactive":case"complete":default:a()}},183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(184),i=r(130),a=r(161),s=r(185),u=r(82),l=r(90),c=r(49),d=r(59),p=r(153),h=r(121),m=r(57),f=r(60),v=r(55),g=r(36),_=r(58),y=r(86),S=r(22),E=r(19),T=r(165),O=r(166),C=r(167),A=r(162),I=r(122),R=r(123),w=r(163),M=r(168),b=r(169),N=r(12),P=r(51),k=r(26),L=r(209),D=r(11),U=r(87),H=r(210),B=r(89),x=r(115),j=r(160),F=r(116),W=r(212),G=r(129),J=r(47),V=r(213),K=r(140),Y=r(117),X=r(125),z=r(124),Z=r(112),q=o.ɵcmf(n.AppModule,[i.AppComponent],function(e){return o.ɵmod([o.ɵmpd(512,o.ComponentFactoryResolver,o.ɵCodegenComponentFactoryResolver,[[8,[a.ɵEmptyOutletComponentNgFactory,s.AppComponentNgFactory]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o.ɵmpd(4608,u.ɵangular_packages_common_http_http_d,u.ɵangular_packages_common_http_http_d,[]),o.ɵmpd(6144,u.XhrFactory,null,[u.ɵangular_packages_common_http_http_d]),o.ɵmpd(4608,u.HttpXhrBackend,u.HttpXhrBackend,[u.XhrFactory]),o.ɵmpd(6144,u.HttpBackend,null,[u.HttpXhrBackend]),o.ɵmpd(4608,u.HttpHandler,u.ɵHttpInterceptingHandler,[u.HttpBackend,o.Injector]),o.ɵmpd(4608,u.HttpClient,u.HttpClient,[u.HttpHandler]),o.ɵmpd(4608,l.HttpService,l.HttpService,[u.HttpClient]),o.ɵmpd(5120,c.JWT_OPTIONS,n.jwtOptionsFactory,[]),o.ɵmpd(4608,d.JwtHelperService,d.JwtHelperService,[c.JWT_OPTIONS]),o.ɵmpd(4608,p.CookieOptionsProvider,p.CookieOptionsProvider,[p.COOKIE_OPTIONS,o.Injector]),o.ɵmpd(5120,p.CookieService,p.cookieServiceFactory,[p.CookieOptionsProvider]),o.ɵmpd(4608,h.BrandUrlPipe,h.BrandUrlPipe,[]),o.ɵmpd(4608,m.CustomerDataService,m.CustomerDataService,[l.HttpService,p.CookieService,h.BrandUrlPipe]),o.ɵmpd(4608,f.LocalStorage,f.LocalStorage,[]),o.ɵmpd(4608,v.LocalStorageExpiry,v.LocalStorageExpiry,[f.LocalStorage]),o.ɵmpd(6144,g.IdleExpiry,null,[v.LocalStorageExpiry]),o.ɵmpd(135680,_.Idle,_.Idle,[g.IdleExpiry,o.NgZone,[2,y.KeepaliveSvc]]),o.ɵmpd(4608,S.AuthService,S.AuthService,[l.HttpService,d.JwtHelperService,E.Router,m.CustomerDataService,_.Idle]),o.ɵmpd(4608,T.SetPasswordGuard,T.SetPasswordGuard,[S.AuthService,E.Router]),o.ɵmpd(4608,O.ResetPasswordGuard,O.ResetPasswordGuard,[S.AuthService,E.Router]),o.ɵmpd(4608,C.RegisterConfirmationGuard,C.RegisterConfirmationGuard,[S.AuthService,E.Router]),o.ɵmpd(4608,A.DisallowedBrandsGuard,A.DisallowedBrandsGuard,[E.Router]),o.ɵmpd(4608,I.LoggedInGuard,I.LoggedInGuard,[S.AuthService,E.Router]),o.ɵmpd(4608,R.LoggedInAlreadyGuard,R.LoggedInAlreadyGuard,[S.AuthService,E.Router]),o.ɵmpd(4608,w.LogoutUserGuard,w.LogoutUserGuard,[S.AuthService]),o.ɵmpd(4608,M.TokenResolver,M.TokenResolver,[S.AuthService,E.Router,m.CustomerDataService]),o.ɵmpd(4608,b.DecodeUsernameResolver,b.DecodeUsernameResolver,[S.AuthService,E.Router]),o.ɵmpd(5120,E.ActivatedRoute,E.ɵangular_packages_router_router_g,[E.Router]),o.ɵmpd(4608,E.PreloadAllModules,E.PreloadAllModules,[]),o.ɵmpd(6144,E.PreloadingStrategy,null,[E.PreloadAllModules]),o.ɵmpd(135680,E.RouterPreloader,E.RouterPreloader,[E.Router,o.NgModuleFactoryLoader,o.Compiler,o.Injector,E.PreloadingStrategy]),o.ɵmpd(4608,E.NoPreloading,E.NoPreloading,[]),o.ɵmpd(5120,E.ɵangular_packages_router_router_n,E.ɵangular_packages_router_router_c,[E.Router,N.ViewportScroller,E.ROUTER_CONFIGURATION]),o.ɵmpd(5120,E.ROUTER_INITIALIZER,E.ɵangular_packages_router_router_j,[E.ɵangular_packages_router_router_h]),o.ɵmpd(5120,o.APP_BOOTSTRAP_LISTENER,function(e){return[e]},[E.ROUTER_INITIALIZER]),o.ɵmpd(4352,o.LOCALE_ID,"en-GB",[]),o.ɵmpd(4608,N.NgLocalization,N.NgLocaleLocalization,[o.LOCALE_ID,[2,N.ɵangular_packages_common_common_a]]),o.ɵmpd(5120,o.APP_ID,o.ɵangular_packages_core_core_f,[]),o.ɵmpd(5120,o.IterableDiffers,o.ɵangular_packages_core_core_i,[]),o.ɵmpd(5120,o.KeyValueDiffers,o.ɵangular_packages_core_core_j,[]),o.ɵmpd(4608,P.DomSanitizer,P.ɵDomSanitizerImpl,[N.DOCUMENT]),o.ɵmpd(6144,o.Sanitizer,null,[P.DomSanitizer]),o.ɵmpd(4608,P.HAMMER_GESTURE_CONFIG,P.HammerGestureConfig,[]),o.ɵmpd(5120,P.EVENT_MANAGER_PLUGINS,function(e,t,r,o,n,i,a,s){return[new P.ɵDomEventsPlugin(e,t,r),new P.ɵKeyEventsPlugin(o),new P.ɵHammerGesturesPlugin(n,i,a,s)]},[N.DOCUMENT,o.NgZone,o.PLATFORM_ID,N.DOCUMENT,N.DOCUMENT,P.HAMMER_GESTURE_CONFIG,o.ɵConsole,[2,P.HAMMER_LOADER]]),o.ɵmpd(4608,P.EventManager,P.EventManager,[P.EVENT_MANAGER_PLUGINS,o.NgZone]),o.ɵmpd(135680,P.ɵDomSharedStylesHost,P.ɵDomSharedStylesHost,[N.DOCUMENT]),o.ɵmpd(4608,P.ɵDomRendererFactory2,P.ɵDomRendererFactory2,[P.EventManager,P.ɵDomSharedStylesHost]),o.ɵmpd(5120,k.AnimationDriver,L.ɵangular_packages_platform_browser_animations_animations_b,[]),o.ɵmpd(5120,k.ɵAnimationStyleNormalizer,L.ɵangular_packages_platform_browser_animations_animations_c,[]),o.ɵmpd(4608,k.ɵAnimationEngine,L.ɵangular_packages_platform_browser_animations_animations_a,[N.DOCUMENT,k.AnimationDriver,k.ɵAnimationStyleNormalizer]),o.ɵmpd(5120,o.RendererFactory2,L.ɵangular_packages_platform_browser_animations_animations_d,[P.ɵDomRendererFactory2,k.ɵAnimationEngine,o.NgZone]),o.ɵmpd(6144,P.ɵSharedStylesHost,null,[P.ɵDomSharedStylesHost]),o.ɵmpd(4608,o.Testability,o.Testability,[o.NgZone]),o.ɵmpd(4608,D.AnimationBuilder,L.ɵBrowserAnimationBuilder,[o.RendererFactory2,P.DOCUMENT]),o.ɵmpd(4608,u.HttpXsrfTokenExtractor,u.ɵangular_packages_common_http_http_g,[N.DOCUMENT,o.PLATFORM_ID,u.ɵangular_packages_common_http_http_e]),o.ɵmpd(4608,u.ɵangular_packages_common_http_http_h,u.ɵangular_packages_common_http_http_h,[u.HttpXsrfTokenExtractor,u.ɵangular_packages_common_http_http_f]),o.ɵmpd(5120,u.HTTP_INTERCEPTORS,function(e,t,r,o){return[e,new U.JwtInterceptor(t,r),new H.HttpModifyInterceptor(o)]},[u.ɵangular_packages_common_http_http_h,c.JWT_OPTIONS,d.JwtHelperService,o.Injector]),o.ɵmpd(4608,B.RecaptchaLoaderService,B.RecaptchaLoaderService,[o.PLATFORM_ID,[2,B.RECAPTCHA_LANGUAGE]]),o.ɵmpd(4608,x.AppReadyEventService,x.AppReadyEventService,[N.DOCUMENT]),o.ɵmpd(4608,j.PolicyDataService,j.PolicyDataService,[l.HttpService]),o.ɵmpd(4608,F.ScriptLoaderService,F.ScriptLoaderService,[]),o.ɵmpd(1024,E.ɵangular_packages_router_router_a,E.ɵangular_packages_router_router_e,[[3,E.Router]]),o.ɵmpd(512,o.ErrorHandler,W.ErrorHandlerService,[o.Injector,o.NgZone]),o.ɵmpd(512,E.ɵangular_packages_router_router_h,E.ɵangular_packages_router_router_h,[o.Injector]),o.ɵmpd(1024,o.NgProbeToken,function(){return[E.ɵangular_packages_router_router_b()]},[]),o.ɵmpd(512,G.AppInitService,G.AppInitService,[]),o.ɵmpd(1024,o.APP_INITIALIZER,function(e,t,r){return[E.ɵangular_packages_router_router_i(e),P.ɵangular_packages_platform_browser_platform_browser_j(t),n.initApp(r)]},[E.ɵangular_packages_router_router_h,[2,o.NgProbeToken],G.AppInitService]),o.ɵmpd(512,o.ApplicationInitStatus,o.ApplicationInitStatus,[[2,o.APP_INITIALIZER]]),o.ɵmpd(131584,o.ApplicationRef,o.ApplicationRef,[o.NgZone,o.ɵConsole,o.Injector,o.ErrorHandler,o.ComponentFactoryResolver,o.ApplicationInitStatus]),o.ɵmpd(512,E.UrlSerializer,E.DefaultUrlSerializer,[]),o.ɵmpd(512,E.ChildrenOutletContexts,E.ChildrenOutletContexts,[]),o.ɵmpd(256,E.ROUTER_CONFIGURATION,{preloadingStrategy:E.PreloadAllModules},[]),o.ɵmpd(1024,N.LocationStrategy,E.ɵangular_packages_router_router_d,[N.PlatformLocation,[2,N.APP_BASE_HREF],E.ROUTER_CONFIGURATION]),o.ɵmpd(512,N.Location,N.Location,[N.LocationStrategy]),o.ɵmpd(512,o.Compiler,o.Compiler,[]),o.ɵmpd(512,o.NgModuleFactoryLoader,o.SystemJsNgModuleLoader,[o.Compiler,[2,o.SystemJsNgModuleLoaderConfig]]),o.ɵmpd(1024,E.ROUTES,function(){return[[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:"./routes/auth/auth.module#AuthRoutesModule",canLoad:[R.LoggedInAlreadyGuard]},{path:"error",loadChildren:"./routes/error/error.module#ErrorModule"},{path:"info",loadChildren:"./routes/info/info.module#InfoModule"},{path:"portal",loadChildren:"./routes/portal/portal.module#PortalModule",canLoad:[I.LoggedInGuard]},{path:"**",redirectTo:"/error/404"}]]},[]),o.ɵmpd(1024,E.Router,E.ɵangular_packages_router_router_f,[o.ApplicationRef,E.UrlSerializer,E.ChildrenOutletContexts,N.Location,o.Injector,o.NgModuleFactoryLoader,o.Compiler,E.ROUTES,E.ROUTER_CONFIGURATION,[2,E.UrlHandlingStrategy],[2,E.RouteReuseStrategy]]),o.ɵmpd(1073742336,E.RouterModule,E.RouterModule,[[2,E.ɵangular_packages_router_router_a],[2,E.Router]]),o.ɵmpd(1073742336,J.AuthComponentModule,J.AuthComponentModule,[[3,J.AuthComponentModule]]),o.ɵmpd(1073742336,V.AppRoutingModule,V.AppRoutingModule,[]),o.ɵmpd(1073742336,N.CommonModule,N.CommonModule,[]),o.ɵmpd(1073742336,o.ApplicationModule,o.ApplicationModule,[o.ApplicationRef]),o.ɵmpd(1073742336,P.BrowserModule,P.BrowserModule,[[3,P.BrowserModule]]),o.ɵmpd(1073742336,L.BrowserAnimationsModule,L.BrowserAnimationsModule,[]),o.ɵmpd(1073742336,u.HttpClientXsrfModule,u.HttpClientXsrfModule,[]),o.ɵmpd(1073742336,u.HttpClientModule,u.HttpClientModule,[]),o.ɵmpd(1073742336,K.JwtModule,K.JwtModule,[[3,K.JwtModule]]),o.ɵmpd(1073742336,p.CookieModule,p.CookieModule,[]),o.ɵmpd(1073742336,Y.NgIdleModule,Y.NgIdleModule,[]),o.ɵmpd(1073742336,X.RecaptchaCommonModule,X.RecaptchaCommonModule,[]),o.ɵmpd(1073742336,z.RecaptchaModule,z.RecaptchaModule,[]),o.ɵmpd(1073742336,n.AppModule,n.AppModule,[]),o.ɵmpd(256,p.COOKIE_OPTIONS,{},[]),o.ɵmpd(256,o.ɵAPP_ROOT,!0,[]),o.ɵmpd(256,L.ANIMATION_MODULE_TYPE,"BrowserAnimations",[]),o.ɵmpd(256,u.ɵangular_packages_common_http_http_e,"XSRF-TOKEN",[]),o.ɵmpd(256,u.ɵangular_packages_common_http_http_f,"X-XSRF-TOKEN",[]),o.ɵmpd(256,"Window",n.ɵ0,[]),o.ɵmpd(256,Z.RECAPTCHA_SETTINGS,n.ɵ1,[])])});t.AppModuleNgFactory=q},184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(164),r(129);var o=r(47);t.initApp=function(e){return function(){return e.init()}},t.jwtOptionsFactory=function(){return{tokenGetter:function(){return localStorage.getItem(o.JWT_STATE_TOKEN_NAME)},whitelistedDomains:["localhost:4000",/escloud\.co\.uk$/,/es-dte\.co\.uk$/,/esure\.com$/,/firstalternative\.com$/,/sheilaswheels\.com$/],throwNoTokenError:!1,skipWhenExpired:!1}};var n=window,i={siteKey:window["esure-env"].RECAPTCHA_SITEKEY,size:"invisible"};t.ɵ0=n,t.ɵ1=i;var a=function(){};t.AppModule=a},185:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(186),i=r(132),a=r(19),s=r(58),u=r(22),l=r(57),c=r(208),d=r(154),p=r(130),h=r(116),m=r(115),f=o.ɵcrt({encapsulation:2,styles:[],data:{}});function v(e){return o.ɵvid(0,[(e()(),o.ɵeld(0,0,null,null,1,"es-timeout",[],null,null,null,n.View_TimeoutComponent_0,n.RenderType_TimeoutComponent)),o.ɵdid(1,49152,null,0,i.TimeoutComponent,[a.Router,s.Idle,u.AuthService,l.CustomerDataService],null,null),(e()(),o.ɵeld(2,0,null,null,1,"es-loading-box",[],null,null,null,c.View_LoadingBoxComponent_0,c.RenderType_LoadingBoxComponent)),o.ɵdid(3,49152,null,0,d.LoadingBoxComponent,[],null,null),(e()(),o.ɵeld(4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o.ɵdid(5,212992,null,0,a.RouterOutlet,[a.ChildrenOutletContexts,o.ViewContainerRef,o.ComponentFactoryResolver,[8,null],o.ChangeDetectorRef],null,null)],function(e,t){e(t,5,0)},null)}function g(e){return o.ɵvid(0,[(e()(),o.ɵeld(0,0,null,null,1,"es-app",[],null,null,null,v,f)),o.ɵdid(1,114688,null,0,p.AppComponent,[h.ScriptLoaderService,m.AppReadyEventService,"Window",a.Router],null,null)],function(e,t){e(t,1,0)},null)}t.RenderType_AppComponent=f,t.View_AppComponent_0=v,t.View_AppComponent_Host_0=g;var _=o.ɵccf("es-app",p.AppComponent,g,{},{},[]);t.AppComponentNgFactory=_},186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(132),i=r(19),a=r(58),s=r(22),u=r(57),l=o.ɵcrt({encapsulation:2,styles:[],data:{}});function c(e){return o.ɵvid(0,[(e()(),o.ɵeld(0,0,null,null,15,"div",[["class","modal"]],[[2,"is-active",null]],null,null,null,null)),(e()(),o.ɵeld(1,0,null,null,0,"div",[["class","modal-background"]],null,null,null,null,null)),(e()(),o.ɵeld(2,0,null,null,13,"div",[["class","modal-card"]],null,null,null,null,null)),(e()(),o.ɵeld(3,0,null,null,2,"header",[["class","modal-card-head"]],null,null,null,null,null)),(e()(),o.ɵeld(4,0,null,null,1,"p",[["class","modal-card-title"]],null,null,null,null,null)),(e()(),o.ɵted(-1,null,["You're about to be signed out of My Account"])),(e()(),o.ɵeld(6,0,null,null,4,"section",[["class","modal-card-body"]],null,null,null,null,null)),(e()(),o.ɵted(-1,null,[" We will sign you out of My Account in "])),(e()(),o.ɵeld(8,0,null,null,1,"span",[["class","seconds-count has-text-centered has-text-weight-semibold"]],null,null,null,null,null)),(e()(),o.ɵted(9,null,["",""])),(e()(),o.ɵted(-1,null,[" seconds. Do you want to continue your session? "])),(e()(),o.ɵeld(11,0,null,null,4,"footer",[["class","modal-card-foot"]],null,null,null,null,null)),(e()(),o.ɵeld(12,0,null,null,1,"button",[["class","button is-success is-rounded"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,r){var o=!0,n=e.component;"click"===t&&(o=!1!==n.continueSession()&&o);return o},null,null)),(e()(),o.ɵted(-1,null,["Continue session"])),(e()(),o.ɵeld(14,0,null,null,1,"button",[["class","button is-rounded"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,r){var o=!0,n=e.component;"click"===t&&(o=!1!==n.endSession()&&o);return o},null,null)),(e()(),o.ɵted(-1,null,["End session now"]))],null,function(e,t){var r=t.component;e(t,0,0,r.showTimeoutWarning),e(t,9,0,r.countSeconds),e(t,12,0,r.buttonsClicked),e(t,14,0,r.buttonsClicked)})}function d(e){return o.ɵvid(0,[(e()(),o.ɵeld(0,0,null,null,1,"es-timeout",[],null,null,null,c,l)),o.ɵdid(1,49152,null,0,n.TimeoutComponent,[i.Router,a.Idle,s.AuthService,u.CustomerDataService],null,null)],null,null)}t.RenderType_TimeoutComponent=l,t.View_TimeoutComponent_0=c,t.View_TimeoutComponent_Host_0=d;var p=o.ɵccf("es-timeout",n.TimeoutComponent,d,{},{},[]);t.TimeoutComponentNgFactory=p},187:function(e,t,r){var o={"./en-au":134,"./en-au.js":134,"./en-ca":135,"./en-ca.js":135,"./en-gb":136,"./en-gb.js":136,"./en-ie":137,"./en-ie.js":137,"./en-il":138,"./en-il.js":138,"./en-nz":139,"./en-nz.js":139};function n(e){var t=i(e);return r(t)}function i(e){var t=o[e];if(t+1)return t;var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}n.keys=function(){return Object.keys(o)},n.resolve=i,(e.exports=n).id=187},207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.firstName=e.firstName,this.lastName=e.lastName,this.email=e.email,this.title=e.title,this.crossSell=e.crossSell,this.id=e.id,this.dateOfBirth=e.dateOfBirth,this.address=e.address};t.Customer=o},208:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),n=r(154),i=o.ɵcrt({encapsulation:2,styles:[],data:{}});function a(e){return o.ɵvid(0,[(e()(),o.ɵeld(0,0,null,null,2,"div",[["id","loading-indicator"]],null,null,null,null,null)),(e()(),o.ɵeld(1,0,null,null,1,"div",[["class","loader"]],null,null,null,null,null)),(e()(),o.ɵted(-1,null,["Loading..."]))],null,null)}function s(e){return o.ɵvid(0,[(e()(),o.ɵeld(0,0,null,null,1,"es-loading-box",[],null,null,null,a,i)),o.ɵdid(1,49152,null,0,n.LoadingBoxComponent,[],null,null)],null,null)}t.RenderType_LoadingBoxComponent=i,t.View_LoadingBoxComponent_0=a,t.View_LoadingBoxComponent_Host_0=s;var u=o.ɵccf("es-loading-box",n.LoadingBoxComponent,s,{},{},[]);t.LoadingBoxComponentNgFactory=u},210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=(r(1),r(82)),u=r(40),l=r(32),c=r(22),o=r(47),n=function(){function e(e){this.injector=e}return e.prototype.intercept=function(t,e){var r=this,o=(Date.now(),this.injector.get(c.AuthService).getAccessToken()),n=a.__assign({},o&&{AccessToken:o},{Brand:"ES"}),i=t.clone({setHeaders:n});return e.handle(i).pipe(l.tap(function(e){if(e instanceof s.HttpResponse){r.handleTokenHeader(e.headers);Date.now();t.method,t.urlWithParams,e.status}}),l.catchError(function(e){r.handleTokenHeader(e.headers);Date.now();return t.method,t.urlWithParams,e.status,u.throwError(e)}))},e.prototype.handleTokenHeader=function(e){var t=e.get(o.JWT_HEADER_NAME);t&&this.injector.get(c.AuthService).setJwtToken(t)},e}();t.HttpModifyInterceptor=n},211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){this.driverType=e.driverType,this.title=e.title,this.gender=e.gender,this.forename=e.forename,this.surname=e.surname,this.driveOtherCarsInd=e.driveOtherCarsInd,this.classOfUse=e.classOfUse,this.classOfUseShortDescription=e.classOfUseShortDescription,this.classOfUseLongDescription=e.classOfUseLongDescription,this.coverTypeDescription=e.coverTypeDescription,this.ncdProtection="YES"===e.ncdProtection,this.voluntaryExcess=e.voluntaryExcess,this.compulsoryExcess=e.compulsoryExcess,this.uwAdExcess=e.uwAdExcess,this.fireExcess=e.fireExcess,this.theftExcess=e.theftExcess,this.driverSpecificXs=e.driverSpecificXs,this.ncdLevel=e.ncdLevel};t.Driver=o},212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(1);var o=r(19),n=r(57),i=function(){function e(e,t){this.injector=e,this.zone=t}return Object.defineProperty(e.prototype,"router",{get:function(){return this.injector.get(o.Router)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customerDataService",{get:function(){return this.injector.get(n.CustomerDataService)},enumerable:!0,configurable:!0}),e.prototype.handleError=function(e){var t=this;console.error(e),this.customerDataService.setLastError(e,"runtime error, handled by custom ErrorHandlerService"),this.zone.run(function(){return t.router.navigateByUrl("/error/500")})},e}();t.ErrorHandlerService=i},213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(19);var o=r(122),n=(r(123).LoggedInAlreadyGuard,o.LoggedInGuard,function(){});t.AppRoutingModule=n},22:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),s=(r(19),r(140),r(156),r(46)),u=(r(57),r(90),r(47)),n=function(){function e(e,t,r,o,n){this.httpService=e,this.jwtHelperService=t,this.router=r,this.customerDataService=o,this.idle=n}return e.prototype.authenticate=function(e){return this.httpService.post("/login",e)},e.prototype.getToken=function(){return this.httpService.get("/token")},e.prototype.refreshToken=function(){return this.httpService.get("/token/refresh")},e.prototype.getUsernameFromToken=function(e){return this.httpService.post("/login/forgot-password/token",{token:e})},e.prototype.confirmChallenge=function(e){return this.httpService.post("/login/confirm",e)},e.prototype.getUsernameFromCustomerDetails=function(r){var o=this;return new Promise(function(t,e){o.httpService.post("/account/find-email",r).subscribe(function(e){t(e.email)},function(){return e()})})},e.prototype.resetPassword=function(e,t){return this.httpService.post("/login/forgot-password",{userName:e,recaptchaCode:t})},e.prototype.confirmResetPassword=function(e){return this.httpService.post("/login/forgot-password/confirm",e)},e.prototype.findMasterCust=function(e,t){return this.httpService.post("/register",o.__assign({},e,{recaptchaCode:t}))},e.prototype.isUserLoggedIn=function(){return this.tokenHasKey(u.JWT_MASTER_ID_PROPERTY_NAME)},e.prototype.tokenHasKey=function(e){var t=!1;this.isValidToken()&&(t=void 0!==this.decodeToken()[e]);return t},e.prototype.getKeyFromToken=function(e){var t;this.isValidToken()&&(t=this.decodeToken()[e]);return t},e.prototype.decodeToken=function(){return this.jwtHelperService.decodeToken()},e.prototype.getTokenExpirationDate=function(){var e=this.getJwtToken(),t=null;if(e)try{t=this.jwtHelperService.getTokenExpirationDate(e)}catch(e){this.redirectTo500Page(e,"error getting JWT expiration date")}return t},e.prototype.logout=function(e){this.removeJWT(),localStorage.removeItem(u.CUSTOMER_STATUS_LOCAL_STORAGE_KEY_NAME),this.removeAccessToken(),this.removeRefreshToken(),this.customerDataService.customer=null,e&&this.router.navigateByUrl("/auth/logout")},e.prototype.setJwtToken=function(e){localStorage.setItem(u.JWT_STATE_TOKEN_NAME,e);var t=this.getTokenExpirationDate();this.idle.stop();var r=s(t),o=s(),n=r.diff(o,"seconds"),i=n-u.SESSION_TIMEOUT_WARNING_SECONDS-2,a=n<u.SESSION_TIMEOUT_WARNING_SECONDS?n:u.SESSION_TIMEOUT_WARNING_SECONDS;i<=0&&(i=1)<a&&(a-=1),this.idle.setIdle(i),this.idle.setTimeout(a),this.idle.getIdle(),this.idle.getTimeout(),this.idle.watch()},e.prototype.setAccessToken=function(e){localStorage.setItem(u.JWT_ACCESS_TOKEN_NAME,e)},e.prototype.getAccessToken=function(){return localStorage.getItem(u.JWT_ACCESS_TOKEN_NAME)},e.prototype.removeAccessToken=function(){localStorage.removeItem(u.JWT_ACCESS_TOKEN_NAME)},e.prototype.setRefreshToken=function(e){localStorage.setItem(u.JWT_REFRESH_TOKEN_NAME,e)},e.prototype.getRefreshToken=function(){return localStorage.getItem(u.JWT_REFRESH_TOKEN_NAME)},e.prototype.removeRefreshToken=function(){localStorage.removeItem(u.JWT_REFRESH_TOKEN_NAME)},e.prototype.getJwtToken=function(){return this.jwtHelperService.tokenGetter()},e.prototype.removeJWT=function(){localStorage.removeItem(u.JWT_STATE_TOKEN_NAME)},e.prototype.isValidToken=function(){var e=this.getJwtToken();return!!e&&!this.isTokenExpired(e)},e.prototype.isTokenExpired=function(e){var t=!0;try{t=this.jwtHelperService.isTokenExpired(e)}catch(e){this.redirectTo500Page(e,"error determining JWT expiration")}return t},e.prototype.redirectTo500Page=function(e,t){return this.customerDataService.setLastError(e,t),this.router.navigateByUrl("/error/500")},e}();t.AuthService=n},47:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWT_ACCESS_TOKEN_NAME="ES-AT",t.JWT_REFRESH_TOKEN_NAME="ES-RT",t.JWT_STATE_TOKEN_NAME="ES-ST",t.JWT_HEADER_NAME="token",t.JWT_COOKIE_EXPIRY_MINUTES=15,t.JWT_MASTER_ID_PROPERTY_NAME="mid",t.JWT_CHALLENGE_KEY_PROPERTY_NAME="challengeKey",t.JWT_EMAIL_KEY_PROPERTY_NAME="email",t.JWT_RECAPTCHA_ENABLED_KEY_PROPERTY_NAME="recap",t.SESSION_TIMEOUT_WARNING_SECONDS=60,t.CUSTOMER_STATUS_LOCAL_STORAGE_KEY_NAME="ES-customer-status";var o=function(e){if(e)throw new Error("AuthComponentModule is already loaded. It is designed to be loaded only once")};t.AuthComponentModule=o},57:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(32),i=(r(153),r(46)),a=(r(90),r(207)),s=(r(121),r(47)),u="routerAnimating",l=function(){function e(e,t,r){var o=this;this.httpService=e,this.cookieService=t,this.brandUrlPipe=r,this.brandConfig={companyCode:"E",brandName:"esure",brandUrl:"esure.com",brandCode:"ES",motorProductType:"MOTOR",homeProductType:"HOME",motorProductCode:"EM",homeProductCode:"EH",tileColor:"#FDF9F5",themeColor:"#FDF9F5",backgroundColor:"#FDF9F5",maskIconColor:"#0971b0",fontColor:"#0971b0",phoneNumbers:{motorCustomerService:"0345 045 1000",motorAccidentRecovery:"0800 085 8533",motorClaims:"0345 603 7872",motorClaims24:"0800 085 8533",motorWindscreen:"0800 085 8459",motorLegal:"0345 603 7872",motorBreakdown:"0800 085 6837",motorKey:"0800 085 4913",motorMisfuel:"0800 085 8556",motorRenewals:"0345 603 7879",motorMtaChangeReg:"0345 045 8458",motorMtaChangeCar:"0345 603 5383",motorMtaAddConviction:"0345 607 0391",motorMtaAddDriver:"0345 045 5565",homeCustomerService:"0345 601 7074",homeClaims:"0345 601 7072",homeEmergency:"0345 601 7624",homePest:"0345 601 7073",homeLegal:"0345 601 7070",homeTravel:"0345 601 6194",homeTravelEmergency:"+44 (0)208 763 4902",homeRenewals:"0345 601 7079",homeWinter:"0345 045 8000"},urls:{proofOfNoClaims:"/proof-of-no-claims",travelQuote:"https://esure.hoodtravel.co.uk"}},this.motorOfferTemplate={class:"motor",heading:"Save 10% on our Car Insurance",url:this.brandUrlPipe.transform("/car10"),info:this.brandUrlPipe.transform("/car10"),content:"Plus, get a courtesy car for the whole time your car’s being repaired with an approved garage.",enabled:!0},this.motorOffers={login:n.__assign({},this.motorOfferTemplate,{icon:!0}),special:n.__assign({},this.motorOfferTemplate,{icon:!0,heading:"10% loyalty discount on Car Insurance",content:"Plus, if you ever have an accident you’ll get a courtesy car from the recommended garage while your car’s being repaired."}),dynamic:n.__assign({},this.motorOfferTemplate,{heading:"Your 10% Car Insurance saving",content:"Loyal customers like you get value for money and reassuring cover – including a courtesy car when you use an approved repairer."})},this.homeOfferTemplate={class:"home-one",heading:"Home Insurance",url:this.brandUrlPipe.transform("/home10"),info:this.brandUrlPipe.transform("/home10"),enabled:!0},this.homeOffers={login:n.__assign({},this.homeOfferTemplate,{class:"home",heading:"Quality, reassuring Home Insurance",content:"Defaqto has rated our insurance 5-Star, meaning it has a comprehensive level of features and benefits.",icon:!0}),timeout:n.__assign({},this.homeOfferTemplate,{content:"Our quality cover includes up to 15% extra contents cover for special events like weddings or births."}),special:n.__assign({},this.homeOfferTemplate,{heading:"Our loyal customers save up to 10%",content:"Our quality Home Insurance offers great value and peace of mind.",icon:!0}),dynamic:n.__assign({},this.homeOfferTemplate,{class:"home",content:"Our quality cover comes with the reassurance of unlimited buildings cover and new for old contents cover."})},this.multicarOfferTemplate={class:"multicar-one",heading:"Our customers save 10%",url:this.brandUrlPipe.transform("/multicar10"),info:this.brandUrlPipe.transform("/multicar10"),enabled:!0},this.multicarOffers={login:n.__assign({},this.multicarOfferTemplate,{content:"Our quality Multicar Insurance offers great value and peace of mind. Cover includes 10% off each extra\n       car insured by you, your partner or anyone else over 25 living at home.",icon:!0}),timeout:n.__assign({},this.multicarOfferTemplate,{heading:"Multicar Insurance",content:"Our quality cover offers convenient separate policies for each car – so a claim on one won’t affect the other."}),special:n.__assign({},this.multicarOfferTemplate,{heading:"All yours – 10% off Multicar Insurance",content:"That’s what you get off your quote if you, your partner or anyone over 25 who lives with you insures a car with us too.",icon:!0}),dynamic:n.__assign({},this.multicarOfferTemplate,{class:"multicar",content:"Get a bundle of benefits when you choose "+this.brandConfig.brandName+" Multicar"})},this.travelOfferTemplate={class:"travel",heading:"Travel Insurance",url:this.brandUrlPipe.transform("/travel-insurance"),info:this.brandUrlPipe.transform("/travel-insurance"),enabled:!0},this.travelOffers={login:n.__assign({},this.travelOfferTemplate,{heading:"Travel Insurance peace of mind",content:"Everyone deserves a holiday – and quality travel cover. Ours has 24-hour Emergency Medical Assistance,\n       Emergency medical cover up to £20,000,000 per person and Baggage cover up to £2,500."}),timeout:n.__assign({},this.travelOfferTemplate,{content:"Whether you’re travelling in Europe or Worldwide, trust us for value-for-money cover."}),special:n.__assign({},this.travelOfferTemplate,{heading:"Travel Insurance online discount – up to 20%",content:"Looking for value-for-money and reassuring cover? Ours has 24-hour Emergency Medical Assistance –\n       meaning help is just a phone call away.",icon:!0}),dynamic:n.__assign({},this.travelOfferTemplate,{content:"With our quality cover, you’ll have peace of mind with 24-hour Emergency Medical Assistance.",home:n.__assign({},this.travelOfferTemplate,{content:"Our flexible insurance offers 3 levels of cover, plus European and Worldwide options."})})},this.sideBar={opened:!1,autoCollapseWidth:1023,fixedNav:!1,navStyle:"over",toggle:function(){return!o.sideBar.fixedNav&&(o.sideBar.opened=!o.sideBar.opened)}},this.mobileScrollHidden=!0,this.animationsDisabled=!1,this.cookieNameForCookieBarSeen="cookie-agreed",this.cookieNameForWarningBarSeen="browser-warning-agreed",this.cookieBarHidden=void 0!==this.cookieService.get(this.cookieNameForCookieBarSeen),this.browserWarningHidden=void 0!==this.cookieService.get(this.cookieNameForWarningBarSeen)}return e.prototype.setCustomer=function(){var t=this;return this.httpService.get("/customer").pipe(o.map(function(e){return new a.Customer(e)}),o.tap(function(e){t.customer=e,localStorage.setItem(s.CUSTOMER_STATUS_LOCAL_STORAGE_KEY_NAME,t.customer.id)}))},e.prototype.changePassword=function(e){return this.httpService.post("/customer/change-password",e)},e.prototype.changeEmail=function(e){return this.httpService.post("/customer/change-email",e)},e.prototype.logError=function(){return this.httpService.post("/error",this.getLastError())},e.prototype.updateCookieBar=function(){if(void 0===this.cookieService.get(this.cookieNameForCookieBarSeen)){var e=i.utc().add(1,"year");this.cookieService.put(this.cookieNameForCookieBarSeen,"2",{expires:e.toDate(),secure:!1}),this.cookieBarHidden=!0}},e.prototype.updateBrowserWarningBar=function(){if(void 0===this.cookieService.get(this.cookieNameForWarningBarSeen)){var e=i.utc().add(1,"year");this.cookieService.put(this.cookieNameForWarningBarSeen,"true",{expires:e.toDate(),secure:!1}),this.browserWarningHidden=!0}},e.prototype.initSidebar=function(e){e>this.sideBar.autoCollapseWidth?this.sideBar=n.__assign({},this.sideBar,{navStyle:"slide",fixedNav:!0,opened:!0}):this.sideBar=n.__assign({},this.sideBar,{navStyle:"over",fixedNav:!1,opened:!1})},e.prototype.getDynamicOffers=function(){var e=[];if(!this.isFirstAlternative())if(this.customer.crossSell&&0<this.customer.crossSell.length)switch(this.customer.crossSell[0].name){case"motor":e.push(this.motorOffers.dynamic,this.travelOffers.dynamic);break;case"home":e.push(this.homeOffers.dynamic,this.travelOffers.dynamic.home);break;case"multi-car":e.push(this.multicarOffers.dynamic,this.travelOffers.dynamic)}else e.push(this.travelOffers.dynamic);return e},e.prototype.getLogoutOffers=function(){var e=[];return this.isFirstAlternative()||e.push(this.travelOffers.login),e},e.prototype.getTimeoutOffers=function(){var e=[];return this.isFirstAlternative()||e.push(this.multicarOffers.timeout,this.travelOffers.timeout,this.homeOffers.timeout),e},e.prototype.getLoginOffers=function(){var e=[];return this.isFirstAlternative()||e.push(this.motorOffers.login,this.multicarOffers.login,this.homeOffers.login),e},e.prototype.getSpecialOffers=function(){var e=[];return e.push(this.multicarOffers.special,this.homeOffers.special,this.motorOffers.special,this.travelOffers.special),e},e.prototype.onRouterAnimationStart=function(){document.body.classList.add(u)},e.prototype.onRouterAnimationDone=function(){document.body.classList.remove(u)},e.prototype.getLastError=function(){return this.lastError},e.prototype.setLastError=function(e,t){var r=e;e&&"string"==typeof e?r=r.slice(0,500):e&&e instanceof Error&&(r=n.__assign({message:e.message,name:e.name},e.stack&&{stack:e.stack.slice(0,400)})),this.lastError={error:r,extraInfo:t}},e.prototype.isFirstAlternative=function(){return"FA"===this.brandConfig.brandCode},e}();t.CustomerDataService=l},90:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(82);var n=r(40),o=r(32),i=function(){function e(e){this.http=e}return e.prototype.get=function(e){return this.http.get(""+window["esure-env"].XAPI_URL+e,{withCredentials:!0}).pipe(o.catchError(this.handleError))},e.prototype.getBinary=function(e){return this.http.get(""+window["esure-env"].XAPI_URL+e,{withCredentials:!0,responseType:"blob",observe:"response"}).pipe(o.catchError(this.handleError))},e.prototype.post=function(e,t){return this.http.post(""+window["esure-env"].XAPI_URL+e,t,{withCredentials:!0}).pipe(o.catchError(this.handleError))},e.prototype.handleError=function(e){var t;if(e.error instanceof Error)t={errMsg:e.error.message?e.error.message:e.error.toString(),body:e.error,statusCode:e.status,statusText:e.statusText};else{var r=e.error,o=JSON.stringify(r);t={errMsg:e.status+" - "+e.statusText+" "+o,body:r,statusCode:e.status,statusText:e.statusText}}return n.throwError(t)},e}();t.HttpService=i}});
//# sourceMappingURL=main.58e348d2e7987d48d73f.js.map